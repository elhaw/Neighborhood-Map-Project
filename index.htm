<!DOCTYPE html>
<html>
<head>
	<title> Nighbour hood map </title>
	<link rel="stylesheet" type="text/css" href="css/style.css">



	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>	
	<script type="text/javascript" src = "js/lib/knockout-3.4.2.js"></script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

</head>
<body>
	
<div class="search-menu ">

  <nav class="navbar navbar-light bg-faded justify-content-between">
	  <a class="navbar-brand">Find your favorite place</a>
	  <form class="form-inline">
	    <input class="form-control mr-sm-2" type="text" placeholder="Search" data-bind="textInput: filter">
	  </form>
  </nav>

  <ul class="list-group" data-bind="foreach: visibleLocations">
    <li class="list-group-item list-group-item-action" data-bind="text: title, click: hideMarker()"  ></li>
  </ul>  

</div>

<div id="map"></div>

<script type="text/javascript" src = "js/app.js">

</script>
	<script type="text/javascript">
		function initMap() {

		var location = {lat: 42.360091, lng: -71.09416};
		map = new google.maps.Map(document.getElementById('map'), {
		center: location,
		zoom: 8
		});
	    infowindow = new google.maps.InfoWindow();

	    viewModel.locations().forEach(function(place){
		
 		place.marker = new google.maps.Marker({
			position:place.location,
			map: map,
   	        animation: google.maps.Animation.DROP,
			title : place.title
		});

 		place.marker.addListener('click', function() {

 			infowindow.setContent('<div><strong>' + this.title + '</strong><br>' + 
 				'<img src="https://maps.googleapis.com/maps/api/streetview?size=300x200&location='+this.title+'=151.78&pitch=-0.76&key=AIzaSyCX6bSgdTWvavwA0O8B7KsObZhE5GAf6yQ" >'
 			);

          	infowindow.open(map, this);
        	});

		});
		
       }
	</script>

    <script 
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCX6bSgdTWvavwA0O8B7KsObZhE5GAf6yQ&callback=initMap"/
       async defer> 
    </script>
    
</body>
</html>